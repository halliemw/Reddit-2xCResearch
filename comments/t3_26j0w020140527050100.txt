Criminally insane --> prison.  Sociopathic behavior and personality disorders are not a treatable mental illness 

Legally insane--> hospital until treated or until ruled fit to stand trial

not guilty by reason of insanity-> treatment in or outpatient, usually

Apart from involuntary psychiatric detention, which is an abbreviated legal process that denies the rights of the patient, it is extremely rare for someone to be declared legally insane, or to win a not guilty verdict in a serious criminal trial

Many mentally ill patients end up incarcerated and preyed upon by the "criminally insane" inmates. But to really deal with these aspects we need a different thread