Harassment isn't really about how you look. Shitty people do that because they think it's fun to make other people feel shitty about themselves. 
In the last 5-6 years I've of gone through 2 cycles of drastic weight loss then weight gain. I got harassed just as much at 240lbs wearing my pajamas as i did at 170lbs wearing a nice dress, heels and makeup to out out.

Changing yourself won't make other people act differently. 