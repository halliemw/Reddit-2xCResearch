I'm just sorry I can't give advice on how to deal with it, knowing what you have gone through makes me wish so much I had an answer.

Edit: and my friends would say "But they're just complimenting you!" Or even worse in the case of rape threats, "Those guys were just acting stupid." Yeah that doesn't make me feel any better and totally seems instead like I'm being told to stop "being so sensitive" and people just don't seem to get that those comments are like spears thrown at me, it's NOT appropriate,  and it's frightening because in those harassing situations I don't have any power. 

People tell me to brush off the guys who yell things. But then there are guys who pull over and get out of their car or follow me in their car. 