If you've told her that she should leave the relationship, and she agrees with you but refuses to leave it, and it's taking way too much out of you  (which it is), then there's really only one option: you have to drop your friend.  And that sucks.

I've been in your shoes before.  My best friend in college was constantly getting into these relationships with guys that would treat her like shit, and I'd tell her, and she'd agree, but she'd keep calling me every day to cry and to complain.  It was stressing me out and making it difficult for me to do with my own shit.  Finally I just had to tell her, Amanda, I can't do this anymore.  Once you dump this dude, call me.

Unfortunately, she never did.  She accused me of being a bad friend and we haven't spoken since.  She ended up marrying one of those shitty dudes and later divorcing him.  I feel badly for her, but she was going down that path regardless of whether or not I was around, and the only thing that would have been different if I'd stuck around is she'd have dragged me through it with her.