I will say, this has happened to me maybe 4 times ever. I'm generally a cheerful sort of person and I like smiling and nodding at strangers, it makes me happy when they smile and nod back. 

But once, I was cranky and a guy told me "you should smile". Without missing a beat, I snapped "you should dance for me". He looked really shocked, then he kind of realized he'd misstepped, then he started a jazzhands-and-shuffle of apology. It was so ridiculous I laughed and we both felt better about it. 