I was taught the same thing, that it was respectful to use sir/ma'am. I've been snapped at for it too though.

I'd probably put it mostly on the fact that people didn't grow up using it the same way though. I see it get used a lot more for bosses and parents than for peers around me. So it might just be that they were taught it was only for your elders and people who you need to show professional respect to instead of just being polite to everyone like I was.

I suppose it could be in how it sounds when you say it also. It could come off as sarcastic instead of respectful with the wrong tone which is a problem I have. Half the time you can't tell from my tone if I'm serious, joking, or being sarcastic and it throws people off. It's a really bad habit but it was the only way working retail was tolerable and I slip into it a lot by accident.