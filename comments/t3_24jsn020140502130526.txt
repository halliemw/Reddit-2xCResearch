Despite your principal being an idiot, I'm not sure Rape Culture and High School Dress codes have much in common, and it is a real stretch to try to fight a dress code by yelling "rape culture".  High School Dress codes aren't in place to glamorize sexual violence or objectify a woman's body; they are in place to prevent a distracting environment. Instead of objectifying, dress codes instead aim create an environment that indeed focuses LESS on individuals' bodies and personal fashion statements, and is thus more conducive to learning.  It's the same reason sheer clothing, plunging neck lines, and obvious sexuality aren't quite acceptable at (most) workplaces, and we're still wearing ties, tights, shirts that button up tight to the neck, socks, slacks, undershirts, briefs, bras, cami's and knee length dresses.

Clothing that is distracting (in part because of totally natural sexual impulse and attraction, ESPECIALLY in adolescents), and any attempts to limit that distraction by providing a dress code which tries to limit the ability to easily plainly see, discern, or even imagine in lurid detail the features of a young adult male or female body, isn't perpetuating rape culture.  It simply acknowledges that we humans are sexual beings, and teaches children/teens/young adults that their are societal norms about when it is appropriate (or not) to express our sexuality through what we wear.  Because face it; push up bras/tanks, short/tight/low riding shorts, crop tops, etc while a perfectly reasonable personal fashion choice/statement, are also intended to showcase that which we (and others) enjoy about our bodies; which is not the point of school.

Additionally, a dress code isn't expecting or requiring female students to be ashamed of their bodies, but rather to cover them up in a manner that is reasonable for a learning (or professional) environment (especially given the "fetishiz[ation]" of young female bodies, as you put it).  It isn't telling them to be ashamed their bodies, it is telling students not to flaunt them.

Sure, it's hot out.  Sure, it's summer and we're all ready to do away with those tan lines.  Sure I sweat more wearing pants and a polo than I do a tank top and short swim trunks (I've got great swimmers thighs), but it would be wholly inappropriate for me to wear the latter to work.  And while I welcome (and perhaps at the same time, rue) the day when we in the US are all allowed to wear whatever (or nothing at all), and display our bodies in any fashion in any place in any context, we simply aren't there, and won't be for a significant amount of time.  