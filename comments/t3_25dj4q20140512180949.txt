You are absolutely right to be angry. Girl or boy, gay or not, it is never ok to to hit on someone else's partner when you know that they're in a relationship. Whether or not your friend thought he misread the situation, he should have never tried, as he knew you were in a relationship. 