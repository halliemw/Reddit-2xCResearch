I second this. It's not necessarily depression. 

(just riding on this comment here)

I can relate to most things the OP's said about here outside of the things he's done/doing and his past history.

He's not necessarily depressed. When I confess certain things to my SO, it's partly to let her know everything that I've done so she can see whether or not it'd be best to leave me before we get into anything serious.  I don't want to hurt her.

You're going to have to reassure him, saying things to him like you've said here should help. It's just that the past can get so overwhelming and lock one up into self-loathing behaviour. 

Being diagnosed would only make the person feel distant, despite good intentions. I am usually asked if I am safe at times, it's understandable given my gf's context, but I am not depressed. Like /u/4u5t3n said, it would make the person feel inferior. Sit down and talk things out, if possible. Get a digital channel in which you two can communicate but add positive vibes as well (or just text, I guess). 

I do think that perhaps comparing his story to people who've gone through the same things and reflecting on how he's doing and how it's important that he focus on that in order to maintain (this is tricky/fine line) what he has. 

I'll add more later/answer questions. 