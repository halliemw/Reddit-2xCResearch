When they say something inappropriate, say "Excuse me?" almost as though you've misheard them. When asked to repeat something inappropriate, people sometimes balk and realize they're being a jerk.

A poster below said you should say "I'm sorry, but that is not appropriate." I don't think you should say "I'm sorry." You have nothing to apologize for. Just stick with the direct "That is incredibly inappropriate, and if you continue to speak this way, I will not be able to assist you any further." 