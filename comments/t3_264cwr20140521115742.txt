IMO The proper response for you when he says he is "joking" is to say;  "There is some truth behind every joke.   Don't ever joke with me like that again."   If he does it again, call your friends to help you pack up his stuff and tell him to get lost.  If you care for the guy, do the above.  Give him one chance, otherwise, his behavior will become a habit if it hasn't already.

If the subject of joking does not come up, you are just going to have to shock him with "Don't ever let me hear you talk like that again."  Of course, this means you can never ever "joke" or talk like that again either (assuming you do)

He may be just saying that so you can take the opportunity to stand up for yourself with him.   It may not be his true feelings, but a test, as it were.  It may not be actually a joke, but his way of trying to sense if you are willing to stand your ground.  Sounds like a stupid game, but, it is what it is.  Again, if this continues, it will become a habit.  
