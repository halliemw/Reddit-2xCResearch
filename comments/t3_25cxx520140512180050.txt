Everyone seems to agree that this whole issue is irritating, but I'm going to try to take a guess at why.  I'd guess that it stems from the belief that women are simple and here to entertain, that they don't really have a right to their own complex thoughts and emotions.

No one would tell a guy to smile, because... well... that would be ridiculous for the same reasons that have already arisen in this thread.  He'll smile if he's happy and wants to.  Telling him to smile would just be intrusive because he's his own respectable person who can decide on the face he wants to show to the world which will depend on his current thoughts.

Women though, a lot of people think it's entirely acceptable.  Either you just don't care about their emotions and expect them to put on the happy act all the time because you think they're here to entertain you, in which case you're just an asshole, or you think that they're so simple-minded they don't even have the kinds of complex thoughts that men have and will literally become happy after smiling, in which case you're an ignorant asshole.