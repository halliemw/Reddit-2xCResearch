Yes. In the same way that punishing any narcotics user doesn't help them get clean. It's really not about what's best for the baby or the woman. Really that isn't what most criminal laws exist for. They exist because it makes the public feel just and moral. It is wrong to take narcotics while pregnant. Very few people argue against that. So it's not hard for a law like this to get through. Criminal laws are about punishment, not what is pragmatically the best option. 

People may argue that executions exist as a deterrent for heinous crimes like murder. In reality, they exist only because we need justice in the form of vengeance. It satisfies the public. 

Some may argue that this law is suppose to deter women from doing narcotics whilst pregnant, but it isn't. It's about enacting vengeance on all those that give birth to crack babies.