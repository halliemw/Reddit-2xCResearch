This used to happen to me a lot when I lived in a rough area. It still happens from time to time, but the panhandlers in my city now aren't nearly as aggressive as I've dealt with in the past.

Start carrying pepper spray with you. I'm not saying that homeless people or panhandlers are inherently dangerous people (most of them aren't), but if you're having these frequent sketchy exchanges, you need to look out for your personal safety.

You are most certainly not overreacting by the way. Tapping on someone's car window is crossing a boundary line. Don't feel bad about protecting yourself.

If it's really bad, it might be better to drive into a safer area to shop after dark if you are alone (if this is an option). I know that sucks and you shouldn't have to do that, but sometimes it can give you more peace of mind.