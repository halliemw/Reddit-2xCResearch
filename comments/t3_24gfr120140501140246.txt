Humor relies on an underlying assumption of shared knowledge. Such "knowledge" sometimes is more of an opinion or belief. Someone must share that opinion or belief to find the humor funny.

If that underlying assumption is racist, sexist, or bigoted in some other way, then the joke is too. It won't be found funny if someone finds the underlying assumption to be vile.