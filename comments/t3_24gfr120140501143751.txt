>Humor relies on an underlying assumption of shared knowledge. Such "knowledge" sometimes is more of an opinion or belief. Someone must share that opinion or belief to find the humor funny.

That's not really the extent of how humor works. "Consensus" and "comedy" are not synonyms. Humor, and jokes in particular, often rely on *subverting* expectations. "Why did the chicken cross the road?" is a joke (or anti-joke) because the audience is expecting some sort of explanation that is abnormal or interesting, but the banal answer of "to get to the other side" renders the entire thing into an absurdity.