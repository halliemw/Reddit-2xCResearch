OP did nothing wrong here, and her personal boundaries are fine.  Hugging guy friends is a pretty normal thing.  That was a pretty normal evening.  He-  knowing she was in a relationship - messed up.  That is not what you expect from good friends, regardless of gender.

Edited for emphasis!
