Something similar happened to me yesterday. I was walking home from my last class, which didn't get out until 8PM, so it was sort of dark. I didn't have my headphones like I usually do so I didn't really have the option of ignoring people. I was at a crosswalk waiting for the walk signal to flash on, and to my left were 2 cars who were having some trouble pulled over, one of which was trying to jump-start the other's battery. To my right, on the other side of the street behind the red light, there was a car full of people one of whom yelled out 'HEY GIRL, YOU NEED A RIDE?"

The two guys on my left who were having car trouble were either mistaken about who he was referring to or just trying to diffuse and responded 'No, we're fine!' as if he were asking them. 

Seeing the need to clarify, the man in the car yelled again 'I WASN'T TALKING TO YOU, I WAS TALKING TO HER.'

All I did was shake my head, give a sort-of laugh and say 'No thanks', and they drove off. Not that they had an option, the light had turned green. 

I don't think ignoring is a good idea either. I think people who do and say stuff like this usually are TRYING to elicit some kind of reaction, and I've found the best way to respond for me (not including instances where violence may be a factor) is just to respond as normally as possible. It's kind of funny, it weirds them out SO MUCH. It's like they expect you to fucking faint from shock at the words they just dared to say to you so they don't know what to do with themselves if you just act like he said something super casual. 