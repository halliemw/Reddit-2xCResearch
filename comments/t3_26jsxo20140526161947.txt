The real problem is that religious beliefs are intertwined with the Iranian legal system. As a consequence, even Iranian atheists or more moderate Iranian Muslims are forced to abide by the ultra-conservative views. 

Have you been following the My Stealthy Freedom campaign on Facebook? Iranian women have been taking pictures and videos of themselves without the hijab (headscarf) they are required to wear by law. The Morality Police are on every corner practically, looking to arrest them. These women are so brave. It just tears up my heart to think of them living under such an oppressive system.